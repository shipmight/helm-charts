{
  "$schema": "http://json-schema.org/draft-07/schema",
  "type": "object",
  "properties": {
    "image": {
      "type": "object",
      "properties": {
        "registry": { "type": "string" },
        "repository": { "type": "string" },
        "tag": { "type": "string" },
        "pullPolicy": { "type": "string" },
        "pullSecrets": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "name": { "type": "string" }
            },
            "required": ["name"]
          }
        }
      },
      "required": ["registry", "repository", "tag", "pullPolicy", "pullSecrets"]
    },

    "auth": {
      "type": "object",
      "properties": {
        "initialAdminUser": { "type": "string" },
        "initialAdminPass": { "type": "string" },
        "jwtSecret": { "type": "string" }
      },
      "required": ["initialAdminUser", "initialAdminPass", "jwtSecret"]
    },

    "selfUpdate": {
      "type": "object",
      "properties": {
        "repository": { "type": "string" }
      },
      "required": ["repository"]
    },

    "ui": {
      "type": "object",
      "properties": {
        "ingressPath": { "type": "string" },
        "ingressHost": { "type": "string" },
        "replicas": { "type": "number" },
        "resources": { "$ref": "#/$defs/ResourcesObject" }
      },
      "required": ["ingressPath", "ingressHost", "replicas", "resources"]
    },

    "domains": {
      "type": "object",
      "properties": {
        "ingressClass": { "type": "string", "enum": ["ingress-nginx"] }
      },
      "required": ["ingressClass"]
    },

    "loki": {
      "type": "object",
      "properties": {
        "endpoint": { "type": "string" }
      },
      "required": ["endpoint"]
    },

    "api": {
      "type": "object",
      "properties": {
        "readableUuids": { "type": "boolean" },
        "uuidLength": { "type": "number" },
        "replicas": { "type": "number" },
        "resources": { "$ref": "#/$defs/ResourcesObject" }
      },
      "required": ["readableUuids", "uuidLength", "replicas", "resources"]
    },

    "install": {
      "type": "object",
      "properties": {
        "resources": { "$ref": "#/$defs/ResourcesObject" }
      },
      "required": ["resources"]
    }
  },
  "required": [
    "image",
    "auth",
    "selfUpdate",
    "ui",
    "domains",
    "loki",
    "api",
    "install"
  ],
  "$defs": {
    "ResourcesObject": {
      "type": "object"
    }
  }
}
